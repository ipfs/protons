<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>protons | Protons</title><meta name="description" content="Documentation for Protons"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Protons</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">protons</a></li></ul><h1>Module protons</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p><code>protons</code> is a high performance implementation of <a href="https://protobuf.dev/programming-guides/proto3/">Protocol Buffers v3</a>.</p>
<p>It transpiles code to TypeScript and supports BigInts for 64 bit types.</p>
<p>The <code>protons</code> module contains the code to compile <code>.proto</code> files to <code>.ts</code> files and <code>protons-runtime</code> contains the code to do serialization/deserialization to <code>Uint8Array</code>s during application execution.</p>
<p>Please ensure you declare them as the correct type of dependencies:</p>
<pre><code class="console"><span class="hl-0">$ npm install --save-dev protons</span><br/><span class="hl-0">$ npm install --save protons-runtime</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>First generate your <code>.ts</code> files:</p>
<pre><code class="console"><span class="hl-0">$ protons ./path/to/foo.proto ./path/to/output.ts</span>
</code><button type="button">Copy</button></pre>

<p>Then run tsc over them as normal:</p>
<pre><code class="console"><span class="hl-0">$ tsc</span>
</code><button type="button">Copy</button></pre>

<p>In your code import the generated classes and use them to transform to/from bytes:</p>
<pre><code class="js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">Foo</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;./foo.js&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">foo</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-2">message:</span><span class="hl-0"> </span><span class="hl-3">&#39;hello world&#39;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">encoded</span><span class="hl-0"> = </span><span class="hl-2">Foo</span><span class="hl-0">.</span><span class="hl-6">encode</span><span class="hl-0">(</span><span class="hl-2">foo</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">decoded</span><span class="hl-0"> = </span><span class="hl-2">Foo</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">encoded</span><span class="hl-0">)</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-2">decoded</span><span class="hl-0">.</span><span class="hl-2">message</span><span class="hl-0">)</span><br/><span class="hl-7">// &#39;hello world&#39;</span>
</code><button type="button">Copy</button></pre>

<h2 id="differences-from-protobufjs" class="tsd-anchor-link">Differences from protobuf.js<a href="#differences-from-protobufjs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This module uses the internal reader/writer from <code>protobuf.js</code> as it is highly optimised and there's no point reinventing the wheel.</p>
<p>It does have one or two differences:</p>
<ol>
<li>Supports <code>proto3</code> semantics only</li>
<li>All 64 bit values are represented as <code>BigInt</code>s and not <code>Long</code>s (e.g. <code>int64</code>, <code>uint64</code>, <code>sint64</code> etc)</li>
<li>Unset <code>optional</code> fields are set on the deserialized object forms as <code>undefined</code> instead of the default values</li>
<li><code>singular</code> fields set to default values are not serialized and are set to default values when deserialized if not set - protobuf.js <a href="https://github.com/protobufjs/protobuf.js/issues/1468#issuecomment-745177012">diverges from the language guide</a> around this feature</li>
<li><code>map</code> fields can have keys of any type - protobufs.js <a href="https://github.com/protobufjs/protobuf.js/issues/1203#issuecomment-488637338">only supports strings</a></li>
<li><code>map</code> fields are deserialized as ES6 <code>Map</code>s - protobuf.js uses <code>Object</code>s</li>
</ol>
<h2 id="extra-features" class="tsd-anchor-link">Extra features<a href="#extra-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="limiting-the-size-of-repeatedmap-elements" class="tsd-anchor-link">Limiting the size of repeated/map elements<a href="#limiting-the-size-of-repeatedmap-elements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To protect decoders from malicious payloads, it's possible to limit the maximum size of repeated/map elements.</p>
<p>You can either do this at compile time by using the <a href="https://github.com/protocolbuffers/protobuf/blob/6f1d88107f268b8ebdad6690d116e74c403e366e/docs/options.md?plain=1#L490-L493">protons.options</a> extension:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">// repeatedField cannot have more than 10 entries</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0"> [(</span><span class="hl-2">protons</span><span class="hl-0">.</span><span class="hl-2">options</span><span class="hl-0">).</span><span class="hl-2">limit</span><span class="hl-0"> = </span><span class="hl-8">10</span><span class="hl-0">];</span><br/><br/><span class="hl-0">  </span><span class="hl-7">// stringMap cannot have more than 10 keys</span><br/><span class="hl-0">  </span><span class="hl-2">map</span><span class="hl-0">&lt;</span><span class="hl-2">string</span><span class="hl-0">, </span><span class="hl-2">string</span><span class="hl-0">&gt; </span><span class="hl-2">stringMap</span><span class="hl-0"> = </span><span class="hl-8">2</span><span class="hl-0"> [(</span><span class="hl-2">protons</span><span class="hl-0">.</span><span class="hl-2">options</span><span class="hl-0">).</span><span class="hl-2">limit</span><span class="hl-0"> = </span><span class="hl-8">10</span><span class="hl-0">];</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<p>Or at runtime by passing objects to the <code>.decode</code> function of your message:</p>
<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">10</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">stringMap:</span><span class="hl-0"> </span><span class="hl-8">10</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="limiting-repeating-fields-of-nested-messages-at-runtime" class="tsd-anchor-link">Limiting repeating fields of nested messages at runtime<a href="#limiting-repeating-fields-of-nested-messages-at-runtime" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sub messages with repeating elements can be limited in a similar way:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">SubMessage</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">messages:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// the SubMessage can not have more than 5 repeatedField entries</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="limiting-repeating-fields-of-repeating-messages-at-runtime" class="tsd-anchor-link">Limiting repeating fields of repeating messages at runtime<a href="#limiting-repeating-fields-of-repeating-messages-at-runtime" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sub messages defined in repeating elements can be limited by appending <code>$</code> to the field name in the runtime limit options:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> {</span><br/><span class="hl-0"> </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> </span><span class="hl-2">messages</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">messages:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// max 5x SubMessages</span><br/><span class="hl-0">    </span><span class="hl-2">messages$</span><span class="hl-0">: {</span><br/><span class="hl-0">      </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// no SubMessage can have more than 5 repeatedField entries</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="limiting-repeating-fields-of-map-entries-at-runtime" class="tsd-anchor-link">Limiting repeating fields of map entries at runtime<a href="#limiting-repeating-fields-of-map-entries-at-runtime" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Repeating fields in map entries can be limited by appending <code>$value</code> to the field name in the runtime limit options:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> {</span><br/><span class="hl-0"> </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">map</span><span class="hl-0">&lt;</span><span class="hl-2">string</span><span class="hl-0">, </span><span class="hl-2">SubMessage</span><span class="hl-0">&gt; </span><span class="hl-2">messages</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">messages:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// max 5x SubMessages in the map</span><br/><span class="hl-0">    </span><span class="hl-2">messages$value</span><span class="hl-0">: {</span><br/><span class="hl-0">      </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// no SubMessage in the map can have more than 5 repeatedField entries</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="overriding-64-bit-types" class="tsd-anchor-link">Overriding 64 bit types<a href="#overriding-64-bit-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default 64 bit types are implemented as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a>s.</p>
<p>Sometimes this is undesirable due to <a href="https://betterprogramming.pub/the-downsides-of-bigints-in-javascript-6350fd807d">performance issues</a> or code legibility.</p>
<p>It's possible to override the JavaScript type 64 bit fields will deserialize to:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">int64</span><span class="hl-0"> </span><span class="hl-2">bigintField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">int64</span><span class="hl-0"> </span><span class="hl-2">numberField</span><span class="hl-0"> = </span><span class="hl-8">2</span><span class="hl-0"> [</span><span class="hl-2">jstype</span><span class="hl-0"> = </span><span class="hl-5">JS_NUMBER</span><span class="hl-0">];</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">int64</span><span class="hl-0"> </span><span class="hl-2">stringField</span><span class="hl-0"> = </span><span class="hl-8">3</span><span class="hl-0"> [</span><span class="hl-2">jstype</span><span class="hl-0"> = </span><span class="hl-5">JS_STRING</span><span class="hl-0">];</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">)</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-4">typeof</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0">.</span><span class="hl-2">bigintField</span><span class="hl-0">) </span><span class="hl-7">// bigint</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-4">typeof</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0">.</span><span class="hl-2">numberField</span><span class="hl-0">) </span><span class="hl-7">// number</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-4">typeof</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0">.</span><span class="hl-2">stringField</span><span class="hl-0">) </span><span class="hl-7">// string</span>
</code><button type="button">Copy</button></pre>

<h2 id="missing-features" class="tsd-anchor-link">Missing features<a href="#missing-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Some features may be missing due to them not being needed in ipfs/libp2p so far.</p>
<p>If these features are important to you, please open PRs implementing them along with tests comparing the generated bytes to <code>protobuf.js</code> and <code>pbjs</code>.</p>
</div><div class="tsd-comment tsd-typography"></div></section><section class="tsd-panel tsd-typography"><h1 id="protons-" class="tsd-anchor-link">protons <!-- omit in toc --><a href="#protons-" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://ipfs.tech"><img src="https://img.shields.io/badge/project-IPFS-blue.svg?style=flat-square" alt="ipfs.tech"></a>
<a href="https://discuss.ipfs.tech"><img src="https://img.shields.io/discourse/https/discuss.ipfs.tech/posts.svg?style=flat-square" alt="Discuss"></a>
<a href="https://codecov.io/gh/ipfs/protons"><img src="https://img.shields.io/codecov/c/github/ipfs/protons.svg?style=flat-square" alt="codecov"></a>
<a href="https://github.com/ipfs/protons/actions/workflows/js-test-and-release.yml?query=branch%3Amain"><img src="https://img.shields.io/github/actions/workflow/status/ipfs/protons/js-test-and-release.yml?branch=main&amp;style=flat-square" alt="CI"></a></p>
<blockquote>
<p>Protobuf to ts transpiler</p>
</blockquote>
<h1 id="about" class="tsd-anchor-link">About<a href="#about" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><!--

!IMPORTANT!

Everything in this README between "# About" and "# Install" is automatically
generated and will be overwritten the next time the doc generator is run.

To make changes to this section, please update the @packageDocumentation section
of src/index.js or src/index.ts

To experiment with formatting, please run "npm run docs" from the root of this
repo and examine the changes made.

-->
<p><code>protons</code> is a high performance implementation of <a href="https://protobuf.dev/programming-guides/proto3/">Protocol Buffers v3</a>.</p>
<p>It transpiles code to TypeScript and supports BigInts for 64 bit types.</p>
<p>The <code>protons</code> module contains the code to compile <code>.proto</code> files to <code>.ts</code> files and <code>protons-runtime</code> contains the code to do serialization/deserialization to <code>Uint8Array</code>s during application execution.</p>
<p>Please ensure you declare them as the correct type of dependencies:</p>
<pre><code class="console"><span class="hl-0">$ npm install --save-dev protons</span><br/><span class="hl-0">$ npm install --save protons-runtime</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage-1" class="tsd-anchor-link">Usage<a href="#usage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>First generate your <code>.ts</code> files:</p>
<pre><code class="console"><span class="hl-0">$ protons ./path/to/foo.proto ./path/to/output.ts</span>
</code><button type="button">Copy</button></pre>

<p>Then run tsc over them as normal:</p>
<pre><code class="console"><span class="hl-0">$ tsc</span>
</code><button type="button">Copy</button></pre>

<p>In your code import the generated classes and use them to transform to/from bytes:</p>
<pre><code class="js"><span class="hl-1">import</span><span class="hl-0"> { </span><span class="hl-2">Foo</span><span class="hl-0"> } </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;./foo.js&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">foo</span><span class="hl-0"> = {</span><br/><span class="hl-0">  </span><span class="hl-2">message:</span><span class="hl-0"> </span><span class="hl-3">&#39;hello world&#39;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">encoded</span><span class="hl-0"> = </span><span class="hl-2">Foo</span><span class="hl-0">.</span><span class="hl-6">encode</span><span class="hl-0">(</span><span class="hl-2">foo</span><span class="hl-0">)</span><br/><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">decoded</span><span class="hl-0"> = </span><span class="hl-2">Foo</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">encoded</span><span class="hl-0">)</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-2">decoded</span><span class="hl-0">.</span><span class="hl-2">message</span><span class="hl-0">)</span><br/><span class="hl-7">// &#39;hello world&#39;</span>
</code><button type="button">Copy</button></pre>

<h2 id="differences-from-protobufjs-1" class="tsd-anchor-link">Differences from protobuf.js<a href="#differences-from-protobufjs-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This module uses the internal reader/writer from <code>protobuf.js</code> as it is highly optimised and there's no point reinventing the wheel.</p>
<p>It does have one or two differences:</p>
<ol>
<li>Supports <code>proto3</code> semantics only</li>
<li>All 64 bit values are represented as <code>BigInt</code>s and not <code>Long</code>s (e.g. <code>int64</code>, <code>uint64</code>, <code>sint64</code> etc)</li>
<li>Unset <code>optional</code> fields are set on the deserialized object forms as <code>undefined</code> instead of the default values</li>
<li><code>singular</code> fields set to default values are not serialized and are set to default values when deserialized if not set - protobuf.js <a href="https://github.com/protobufjs/protobuf.js/issues/1468#issuecomment-745177012">diverges from the language guide</a> around this feature</li>
<li><code>map</code> fields can have keys of any type - protobufs.js <a href="https://github.com/protobufjs/protobuf.js/issues/1203#issuecomment-488637338">only supports strings</a></li>
<li><code>map</code> fields are deserialized as ES6 <code>Map</code>s - protobuf.js uses <code>Object</code>s</li>
</ol>
<h2 id="extra-features-1" class="tsd-anchor-link">Extra features<a href="#extra-features-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="limiting-the-size-of-repeatedmap-elements-1" class="tsd-anchor-link">Limiting the size of repeated/map elements<a href="#limiting-the-size-of-repeatedmap-elements-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To protect decoders from malicious payloads, it's possible to limit the maximum size of repeated/map elements.</p>
<p>You can either do this at compile time by using the <a href="https://github.com/protocolbuffers/protobuf/blob/6f1d88107f268b8ebdad6690d116e74c403e366e/docs/options.md?plain=1#L490-L493">protons.options</a> extension:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-7">// repeatedField cannot have more than 10 entries</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0"> [(</span><span class="hl-2">protons</span><span class="hl-0">.</span><span class="hl-2">options</span><span class="hl-0">).</span><span class="hl-2">limit</span><span class="hl-0"> = </span><span class="hl-8">10</span><span class="hl-0">];</span><br/><br/><span class="hl-0">  </span><span class="hl-7">// stringMap cannot have more than 10 keys</span><br/><span class="hl-0">  </span><span class="hl-2">map</span><span class="hl-0">&lt;</span><span class="hl-2">string</span><span class="hl-0">, </span><span class="hl-2">string</span><span class="hl-0">&gt; </span><span class="hl-2">stringMap</span><span class="hl-0"> = </span><span class="hl-8">2</span><span class="hl-0"> [(</span><span class="hl-2">protons</span><span class="hl-0">.</span><span class="hl-2">options</span><span class="hl-0">).</span><span class="hl-2">limit</span><span class="hl-0"> = </span><span class="hl-8">10</span><span class="hl-0">];</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<p>Or at runtime by passing objects to the <code>.decode</code> function of your message:</p>
<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">10</span><span class="hl-0">,</span><br/><span class="hl-0">    </span><span class="hl-2">stringMap:</span><span class="hl-0"> </span><span class="hl-8">10</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="limiting-repeating-fields-of-nested-messages-at-runtime-1" class="tsd-anchor-link">Limiting repeating fields of nested messages at runtime<a href="#limiting-repeating-fields-of-nested-messages-at-runtime-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sub messages with repeating elements can be limited in a similar way:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">SubMessage</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">messages:</span><span class="hl-0"> {</span><br/><span class="hl-0">      </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// the SubMessage can not have more than 5 repeatedField entries</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="limiting-repeating-fields-of-repeating-messages-at-runtime-1" class="tsd-anchor-link">Limiting repeating fields of repeating messages at runtime<a href="#limiting-repeating-fields-of-repeating-messages-at-runtime-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sub messages defined in repeating elements can be limited by appending <code>$</code> to the field name in the runtime limit options:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> {</span><br/><span class="hl-0"> </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> </span><span class="hl-2">messages</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">messages:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// max 5x SubMessages</span><br/><span class="hl-0">    </span><span class="hl-2">messages$</span><span class="hl-0">: {</span><br/><span class="hl-0">      </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// no SubMessage can have more than 5 repeatedField entries</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h4 id="limiting-repeating-fields-of-map-entries-at-runtime-1" class="tsd-anchor-link">Limiting repeating fields of map entries at runtime<a href="#limiting-repeating-fields-of-map-entries-at-runtime-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Repeating fields in map entries can be limited by appending <code>$value</code> to the field name in the runtime limit options:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">SubMessage</span><span class="hl-0"> {</span><br/><span class="hl-0"> </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">uint32</span><span class="hl-0"> </span><span class="hl-2">repeatedField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span><br/><br/><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">map</span><span class="hl-0">&lt;</span><span class="hl-2">string</span><span class="hl-0">, </span><span class="hl-2">SubMessage</span><span class="hl-0">&gt; </span><span class="hl-2">messages</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">, {</span><br/><span class="hl-0">  </span><span class="hl-2">limits:</span><span class="hl-0"> {</span><br/><span class="hl-0">    </span><span class="hl-2">messages:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// max 5x SubMessages in the map</span><br/><span class="hl-0">    </span><span class="hl-2">messages$value</span><span class="hl-0">: {</span><br/><span class="hl-0">      </span><span class="hl-2">repeatedField:</span><span class="hl-0"> </span><span class="hl-8">5</span><span class="hl-0"> </span><span class="hl-7">// no SubMessage in the map can have more than 5 repeatedField entries</span><br/><span class="hl-0">    }</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">})</span>
</code><button type="button">Copy</button></pre>

<h3 id="overriding-64-bit-types-1" class="tsd-anchor-link">Overriding 64 bit types<a href="#overriding-64-bit-types-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>By default 64 bit types are implemented as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a>s.</p>
<p>Sometimes this is undesirable due to <a href="https://betterprogramming.pub/the-downsides-of-bigints-in-javascript-6350fd807d">performance issues</a> or code legibility.</p>
<p>It's possible to override the JavaScript type 64 bit fields will deserialize to:</p>
<pre><code><span class="hl-2">message</span><span class="hl-0"> </span><span class="hl-2">MyMessage</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">int64</span><span class="hl-0"> </span><span class="hl-2">bigintField</span><span class="hl-0"> = </span><span class="hl-8">1</span><span class="hl-0">;</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">int64</span><span class="hl-0"> </span><span class="hl-2">numberField</span><span class="hl-0"> = </span><span class="hl-8">2</span><span class="hl-0"> [</span><span class="hl-2">jstype</span><span class="hl-0"> = </span><span class="hl-5">JS_NUMBER</span><span class="hl-0">];</span><br/><span class="hl-0">  </span><span class="hl-2">repeated</span><span class="hl-0"> </span><span class="hl-2">int64</span><span class="hl-0"> </span><span class="hl-2">stringField</span><span class="hl-0"> = </span><span class="hl-8">3</span><span class="hl-0"> [</span><span class="hl-2">jstype</span><span class="hl-0"> = </span><span class="hl-5">JS_STRING</span><span class="hl-0">];</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>

<pre><code class="TypeScript"><span class="hl-4">const</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> = </span><span class="hl-2">MyMessage</span><span class="hl-0">.</span><span class="hl-6">decode</span><span class="hl-0">(</span><span class="hl-2">buf</span><span class="hl-0">)</span><br/><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-4">typeof</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0">.</span><span class="hl-2">bigintField</span><span class="hl-0">) </span><span class="hl-7">// bigint</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-4">typeof</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0">.</span><span class="hl-2">numberField</span><span class="hl-0">) </span><span class="hl-7">// number</span><br/><span class="hl-2">console</span><span class="hl-0">.</span><span class="hl-6">info</span><span class="hl-0">(</span><span class="hl-4">typeof</span><span class="hl-0"> </span><span class="hl-2">message</span><span class="hl-0">.</span><span class="hl-2">stringField</span><span class="hl-0">) </span><span class="hl-7">// string</span>
</code><button type="button">Copy</button></pre>

<h2 id="missing-features-1" class="tsd-anchor-link">Missing features<a href="#missing-features-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Some features may be missing due to them not being needed in ipfs/libp2p so far.</p>
<p>If these features are important to you, please open PRs implementing them along with tests comparing the generated bytes to <code>protobuf.js</code> and <code>pbjs</code>.</p>
<h1 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><pre><code class="console"><span class="hl-0">$ npm i protons</span>
</code><button type="button">Copy</button></pre>

<h1 id="api-docs" class="tsd-anchor-link">API Docs<a href="#api-docs" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><ul>
<li><a href="https://ipfs.github.io/protons/modules/protons.html">https://ipfs.github.io/protons/modules/protons.html</a></li>
</ul>
<h1 id="license" class="tsd-anchor-link">License<a href="#license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Licensed under either of</p>
<ul>
<li>Apache 2.0, (<a href="../media/LICENSE-APACHE">LICENSE-APACHE</a> / <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
<li>MIT (<a href="../media/LICENSE-MIT">LICENSE-MIT</a> / <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a>)</li>
</ul>
<h1 id="contribute" class="tsd-anchor-link">Contribute<a href="#contribute" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Contributions welcome! Please check out <a href="https://github.com/ipfs/protons/issues">the issues</a>.</p>
<p>Also see our <a href="https://github.com/ipfs/community/blob/master/CONTRIBUTING_JS.md">contributing document</a> for more information on how we work, and about contributing in general.</p>
<p>Please be aware that all interactions related to this repo are subject to the IPFS <a href="https://github.com/ipfs/community/blob/master/code-of-conduct.md">Code of Conduct</a>.</p>
<p>Unless you explicitly state otherwise, any contribution intentionally submitted for inclusion in the work by you, as defined in the Apache-2.0 license, shall be dual licensed as above, without any additional terms or conditions.</p>
<p><a href="https://github.com/ipfs/community/blob/master/CONTRIBUTING.md"><img src="https://cdn.rawgit.com/jbenet/contribute-ipfs-gif/master/img/contribute.gif" alt=""></a></p>
</section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Enumerations"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Enumerations</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary" id="codec_types"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><a href="../enums/protons.CODEC_TYPES.html">CODEC_TYPES</a><a href="#codec_types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Classes"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Classes</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary" id="codeerror"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="../assets/icons.svg#icon-128"></use></svg><a class="deprecated" href="../classes/protons.CodeError.html">CodeError</a><a href="#codeerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Functions"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Functions</h2></summary><dl class="tsd-member-summaries"><dt class="tsd-member-summary" id="generate"><span class="tsd-member-summary-name"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Function"><use href="../assets/icons.svg#icon-64"></use></svg><a href="../functions/protons.generate.html">generate</a><a href="#generate" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></span></dt><dd class="tsd-member-summary"></dd></dl></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><ul><li><a href="#usage"><span>Usage</span></a></li><li><a href="#differences-from-protobufjs"><span>Differences from protobuf.js</span></a></li><li><a href="#extra-features"><span>Extra features</span></a></li><li><ul><li><a href="#limiting-the-size-of-repeatedmap-elements"><span>Limiting the size of repeated/map elements</span></a></li><li><ul><li><a href="#limiting-repeating-fields-of-nested-messages-at-runtime"><span>Limiting repeating fields of nested messages at runtime</span></a></li><li><a href="#limiting-repeating-fields-of-repeating-messages-at-runtime"><span>Limiting repeating fields of repeating messages at runtime</span></a></li><li><a href="#limiting-repeating-fields-of-map-entries-at-runtime"><span>Limiting repeating fields of map entries at runtime</span></a></li></ul></li><li><a href="#overriding-64-bit-types"><span>Overriding 64 bit types</span></a></li></ul></li><li><a href="#missing-features"><span>Missing features</span></a></li></ul><a href="#protons-"><span>protons &lt;!--<wbr/> omit in toc --<wbr/>&gt;</span></a><a href="#about"><span>About</span></a><ul><li><a href="#usage-1"><span>Usage</span></a></li><li><a href="#differences-from-protobufjs-1"><span>Differences from protobuf.js</span></a></li><li><a href="#extra-features-1"><span>Extra features</span></a></li><li><ul><li><a href="#limiting-the-size-of-repeatedmap-elements-1"><span>Limiting the size of repeated/map elements</span></a></li><li><ul><li><a href="#limiting-repeating-fields-of-nested-messages-at-runtime-1"><span>Limiting repeating fields of nested messages at runtime</span></a></li><li><a href="#limiting-repeating-fields-of-repeating-messages-at-runtime-1"><span>Limiting repeating fields of repeating messages at runtime</span></a></li><li><a href="#limiting-repeating-fields-of-map-entries-at-runtime-1"><span>Limiting repeating fields of map entries at runtime</span></a></li></ul></li><li><a href="#overriding-64-bit-types-1"><span>Overriding 64 bit types</span></a></li></ul></li><li><a href="#missing-features-1"><span>Missing features</span></a></li></ul><a href="#install"><span>Install</span></a><a href="#api-docs"><span>API <wbr/>Docs</span></a><a href="#license"><span>License</span></a><a href="#contribute"><span>Contribute</span></a><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Enumerations"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Enumerations</summary><div><a href="#codec_types"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Enumeration"><use href="../assets/icons.svg#icon-8"></use></svg><span>CODEC_<wbr/>TYPES</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Classes"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Classes</summary><div><a href="#codeerror"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Class"><use href="../assets/icons.svg#icon-128"></use></svg><span>Code<wbr/>Error</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Functions"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Functions</summary><div><a href="#generate"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Function"><use href="../assets/icons.svg#icon-64"></use></svg><span>generate</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../index.html">Protons</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
